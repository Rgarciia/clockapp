<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clock</title>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <!-- flipTimer CSS -->
    <link rel="stylesheet" href="css/flipTimer.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    
    <!-- flipTimer JS -->
    <script src="js/jquery.flipTimer.js"></script>
</head>

<body style="background-repeat: no-repeat;">
    <main>
        <div class="container d-flex h-100">
            <div class="row align-self-center w-100">
                <div class="col-6 mx-auto">
                    <h2 id="date" style="text-align: -webkit-center;color: #FFF; font-family: 'Helvetica Neue', Helvetica, sans-serif;font-size: 60px;font-weight: bold;line-height: 100px; text-shadow: black 0.2em 0.1em 0.3em"></h2>
                    <div class="flipTimer">
                        <div class="hours"></div>
                        <div class="minutes"></div>
                        <div class="seconds"></div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script>
        let clientID = "NsaE17tzMJR0ydKo1eU7QvcTAL1CnxU3hA3g291_FIU";
        let page = Math.floor(Math.random() * 10)
        let endpoint = 'https://api.unsplash.com/search/photos?page=' + page + '&query=nature&client_id=' + clientID;
        var element = document.querySelector("body");
        let date = new Date();
        let output = String(date.getDate()).padStart(2, '0') + '/' + String(date.getMonth() + 1).padStart(2, '0') + '/' + date.getFullYear();

        document.getElementById("date").innerHTML = output;


        fetch(endpoint)
            .then(function (response) {
                return response.json();
            })
            .then(function (jsonData) {
                console.log(jsonData.results[page].urls.raw);
                element.background = jsonData.results[page].urls.raw + "&w=960&dpr=2";
                window.setInterval(function() {
                    let page2 = Math.floor(Math.random() * 10)
                    element.background = jsonData.results[page2].urls.raw + "&w=960&dpr=2";
                }, 10000);
            })

    </script>
    <script>
        $(document).ready(function () {
            $('.flipTimer').flipTimer({ direction: 'up' });
        });
    </script>
</body>

</html>